__author__ = 'markus'

from coordinateAscent import coordinateAscent
from coordinateAscentLasso import CoordinateAscentLasso
from standardize import Standardize
from synthData import SynthData
from sklearn import linear_model
import numpy as np


def main():
    sd = SynthData()
    ca = coordinateAscent()
    cal = CoordinateAscentLasso()
    st = Standardize()
    beta0Seperate = True

    #D, y, w = sd.generateData(noise=False)
    if beta0Seperate:
        beta = np.array([1, 1, 1, 1, 0, 0, 0, 0])[np.newaxis].T
    else:
        beta = np.array([1, 1, 1, 1, 1, 0, 0, 0, 0])[np.newaxis].T
    X = np.array([[0.6534514, 0.8862400, 0.6820884, 0.5237252, 0.0616684, 0.6374963, 0.8227289, 0.4161163],
                  [0.1608790, 0.8729537, 0.9891378, 0.1431121, 0.0010182, 0.6875849, 0.2572246, 0.7422522],
                  [0.2629684, 0.3679196, 0.6993702, 0.7435787, 0.5547689, 0.0723752, 0.8601573, 0.2724324],
                  [0.4302894, 0.7346513, 0.7064699, 0.3621252, 0.4390598, 0.1249004, 0.3365195, 0.5775117],
                  [0.9839454, 0.7230509, 0.9670325, 0.6608435, 0.5890067, 0.9120067, 0.1933351, 0.8464928],
                  [0.1762865, 0.2753638, 0.7751830, 0.3675517, 0.2126710, 0.8819089, 0.7791389, 0.2889180],
                  [0.6860021, 0.9513697, 0.2657612, 0.2527587, 0.6723087, 0.4837341, 0.2416060, 0.4358271],
                  [0.2442659, 0.2305321, 0.6827855, 0.1925583, 0.7813902, 0.8468256, 0.4060560, 0.3249294],
                  [0.6887663, 0.7074961, 0.3318878, 0.8640953, 0.0883026, 0.6894231, 0.2994457, 0.7410364],
                  [0.5688356, 0.4470354, 0.7764191, 0.1863361, 0.1638707, 0.8741139, 0.6830484, 0.0120377],
                  [0.4155411, 0.0038782, 0.2664498, 0.6834829, 0.9137489, 0.3002107, 0.3648652, 0.0927982],
                  [0.5148669, 0.0974683, 0.9330476, 0.5651566, 0.5783680, 0.7047101, 0.6947564, 0.5155715],
                  [0.6145297, 0.9692743, 0.0246231, 0.1253456, 0.1615455, 0.5558985, 0.8368753, 0.9260944],
                  [0.5493358, 0.9148428, 0.1155649, 0.9368870, 0.3883706, 0.4237282, 0.6063389, 0.7539963],
                  [0.7183211, 0.9037877, 0.9397353, 0.7601412, 0.7339536, 0.2568587, 0.0111467, 0.3493009],
                  [0.8669041, 0.3688554, 0.6410175, 0.4497085, 0.8512645, 0.0124534, 0.2810883, 0.7359668],
                  [0.3160678, 0.7549892, 0.5253354, 0.9326162, 0.7969011, 0.4022122, 0.0046237, 0.9525057],
                  [0.8109181, 0.8241487, 0.1730234, 0.2943287, 0.9808369, 0.4523242, 0.6280304, 0.1782149],
                  [0.6534050, 0.6234884, 0.8217503, 0.6885823, 0.1769531, 0.8961996, 0.4657763, 0.0702456],
                  [0.4831084, 0.4879712, 0.3576566, 0.4459031, 0.9225590, 0.8379080, 0.8454226, 0.5335047],
                  [0.1230363, 0.3511501, 0.9921196, 0.0073214, 0.3554916, 0.5202936, 0.1655640, 0.0421303],
                  [0.6219035, 0.1236631, 0.4156416, 0.2068879, 0.7772466, 0.1484377, 0.0015168, 0.1559629],
                  [0.3774334, 0.0945704, 0.9338202, 0.9689351, 0.6468593, 0.5189563, 0.6686804, 0.4543542],
                  [0.6179283, 0.0860713, 0.3919808, 0.6641990, 0.8309464, 0.8160619, 0.2839733, 0.6473013],
                  [0.1355799, 0.2520198, 0.3820395, 0.0606581, 0.7490901, 0.4425919, 0.1979944, 0.5069222],
                  [0.4379003, 0.8519086, 0.0322252, 0.0666757, 0.8995464, 0.2335604, 0.5702316, 0.7797784],
                  [0.9618379, 0.7316648, 0.9528312, 0.0772246, 0.7232905, 0.9969135, 0.5888057, 0.9867118],
                  [0.3166420, 0.8265192, 0.0704823, 0.2081812, 0.3505190, 0.4497528, 0.5384676, 0.7390267],
                  [0.6217943, 0.0459868, 0.1501660, 0.9267415, 0.2943709, 0.4673226, 0.6957483, 0.4546620],
                  [0.3663305, 0.2844015, 0.4130757, 0.3073972, 0.0820288, 0.8747053, 0.7135567, 0.4702694],
                  [0.8510750, 0.2437507, 0.1603691, 0.2681439, 0.5156213, 0.7122758, 0.0602751, 0.8644082],
                  [0.6003659, 0.6495791, 0.3642088, 0.4714326, 0.4703551, 0.9679931, 0.3998852, 0.6330734],
                  [0.9746097, 0.9716087, 0.3843143, 0.0728446, 0.5401655, 0.6397787, 0.4796678, 0.0377175],
                  [0.3441895, 0.4849995, 0.6645927, 0.8959402, 0.8947924, 0.6423544, 0.5503435, 0.3389770],
                  [0.5279346, 0.3489127, 0.9765378, 0.2256492, 0.6850254, 0.8028938, 0.9121205, 0.4884539],
                  [0.4633547, 0.9358083, 0.1075135, 0.7371296, 0.2938360, 0.5372955, 0.8594016, 0.6510899],
                  [0.3012658, 0.0868928, 0.9535638, 0.4422827, 0.2606280, 0.9315551, 0.1830629, 0.9349479],
                  [0.3495460, 0.1055505, 0.4619281, 0.0374965, 0.3387566, 0.3025472, 0.2475354, 0.9078447],
                  [0.7397990, 0.3602873, 0.8758134, 0.9883303, 0.4414316, 0.0856191, 0.5093687, 0.2027830],
                  [0.2330267, 0.6595844, 0.1735619, 0.6077954, 0.3122204, 0.4653482, 0.8906834, 0.9384116],
                  [0.5597910, 0.2600339, 0.5115299, 0.4736684, 0.6129140, 0.4977023, 0.6329256, 0.6131066],
                  [0.1750637, 0.8558678, 0.5616157, 0.0877770, 0.0110094, 0.7333417, 0.8083886, 0.0065364],
                  [0.6418145, 0.5676150, 0.3356021, 0.4001530, 0.4786598, 0.3955780, 0.3996533, 0.1610160],
                  [0.8803043, 0.0816098, 0.4984728, 0.9586885, 0.8330374, 0.4423445, 0.3143746, 0.0412572],
                  [0.1495054, 0.8053209, 0.6776055, 0.5426234, 0.0849159, 0.0866070, 0.2613389, 0.4518782],
                  [0.7151591, 0.6763523, 0.7732491, 0.6951342, 0.8981381, 0.6741998, 0.1279960, 0.0999084],
                  [0.8050082, 0.2674747, 0.8782887, 0.5997639, 0.0433751, 0.4494932, 0.0483415, 0.1382135],
                  [0.4856453, 0.3216901, 0.2051007, 0.3897265, 0.5978853, 0.5102064, 0.6096993, 0.6723931],
                  [0.1214294, 0.6883079, 0.5685625, 0.6812144, 0.7430672, 0.9243674, 0.9232579, 0.3405644],
                  [0.0099724, 0.9647450, 0.2618700, 0.4673662, 0.9653690, 0.4505468, 0.6054125, 0.9724933],
                  [0.6004416, 0.7482837, 0.0600764, 0.2779585, 0.5787778, 0.5163293, 0.5262107, 0.6471801],
                  [0.9184149, 0.8885850, 0.2252611, 0.3078268, 0.2111230, 0.8858690, 0.0769893, 0.1093027],
                  [0.2339573, 0.4594453, 0.5136347, 0.1135796, 0.2821016, 0.7042990, 0.8980462, 0.2813910],
                  [0.5128858, 0.3959824, 0.4035589, 0.5020926, 0.5960018, 0.3180964, 0.9853554, 0.5937943],
                  [0.1032809, 0.5553195, 0.9933370, 0.0907214, 0.6633314, 0.6224115, 0.7329081, 0.7121820],
                  [0.0658061, 0.9036647, 0.6106874, 0.9135210, 0.5016606, 0.6295630, 0.8121609, 0.9800232],
                  [0.1303500, 0.7839985, 0.6931509, 0.8759657, 0.2525797, 0.3448146, 0.9184690, 0.7135088],
                  [0.5152978, 0.2118753, 0.7787969, 0.2762694, 0.7405404, 0.9181362, 0.3658161, 0.8158519],
                  [0.2875998, 0.3763760, 0.4656861, 0.5557686, 0.4832820, 0.5197071, 0.2754321, 0.6035533],
                  [0.6528744, 0.3728698, 0.5823183, 0.2517461, 0.9942437, 0.1388359, 0.5853343, 0.1224679],
                  [0.4073709, 0.2789560, 0.4374495, 0.1863304, 0.2382475, 0.8841384, 0.3473985, 0.5745596],
                  [0.0422501, 0.7846816, 0.1659113, 0.8037474, 0.0601792, 0.2662357, 0.5770433, 0.4056316],
                  [0.2725850, 0.0227359, 0.0743022, 0.9081660, 0.1207345, 0.8034840, 0.2272027, 0.0970153],
                  [0.2114684, 0.4019411, 0.4667902, 0.1454446, 0.0979069, 0.1235132, 0.9047077, 0.6863711],
                  [0.2163038, 0.7483543, 0.0531903, 0.6234631, 0.7025079, 0.0864311, 0.2873601, 0.2338557],
                  [0.7406018, 0.4342041, 0.5041565, 0.2783271, 0.4260774, 0.3550857, 0.9661246, 0.3155931],
                  [0.0475460, 0.7579604, 0.8854211, 0.9410735, 0.5003350, 0.4433901, 0.9974822, 0.8090232],
                  [0.3877027, 0.7074148, 0.7556709, 0.2354750, 0.2467046, 0.9662125, 0.8210229, 0.2186243],
                  [0.8333280, 0.2984249, 0.0571375, 0.1174083, 0.5540640, 0.9661918, 0.5535546, 0.4370716],
                  [0.4523267, 0.9810422, 0.9288715, 0.8635224, 0.6055753, 0.8687753, 0.3788942, 0.9409864],
                  [0.6101738, 0.8353584, 0.4694594, 0.5809074, 0.7256257, 0.5941121, 0.9850800, 0.9888895],
                  [0.2649844, 0.7049243, 0.7251362, 0.6808071, 0.4476810, 0.9737137, 0.3017898, 0.8343947],
                  [0.2117414, 0.8833322, 0.3520715, 0.1669401, 0.6364984, 0.1223676, 0.1260133, 0.0361829],
                  [0.6840131, 0.5301363, 0.2103002, 0.4010369, 0.1062089, 0.4627936, 0.3665361, 0.8273802],
                  [0.1248997, 0.3672478, 0.2461629, 0.9677411, 0.9205234, 0.0265434, 0.0865664, 0.9904958],
                  [0.5076314, 0.6583150, 0.3445189, 0.9768221, 0.7362381, 0.2249872, 0.0037335, 0.7563631],
                  [0.0787483, 0.7234317, 0.7545532, 0.4523453, 0.1481004, 0.1539245, 0.2643823, 0.1529361],
                  [0.2430438, 0.2522654, 0.4354466, 0.5582135, 0.4662200, 0.5754194, 0.8759830, 0.0782553],
                  [0.5259131, 0.5473874, 0.7020109, 0.9774066, 0.1179905, 0.0659913, 0.0883909, 0.7227198],
                  [0.4527596, 0.2368928, 0.0103842, 0.9967508, 0.7784941, 0.2604100, 0.6183258, 0.9430794],
                  [0.3786685, 0.0542874, 0.8708368, 0.5609786, 0.8175314, 0.8978625, 0.2420895, 0.2823988],
                  [0.4414411, 0.4042795, 0.7461285, 0.0880052, 0.5289768, 0.8454900, 0.2918149, 0.5426905],
                  [0.0290576, 0.2972148, 0.7799401, 0.3421949, 0.0384755, 0.3740395, 0.6236783, 0.7919364],
                  [0.1004825, 0.9653776, 0.8839674, 0.1890927, 0.6513259, 0.3009347, 0.6884764, 0.7975134],
                  [0.2631422, 0.6060044, 0.5054188, 0.4761332, 0.1547737, 0.1018570, 0.1254926, 0.6262263],
                  [0.2793175, 0.6857107, 0.8622617, 0.0718060, 0.2668350, 0.4932543, 0.1136059, 0.9702004],
                  [0.9635912, 0.6822148, 0.9524627, 0.0551959, 0.8589473, 0.6865406, 0.3651823, 0.1395091],
                  [0.7455851, 0.7270580, 0.8066586, 0.3118647, 0.9277898, 0.0151316, 0.4313076, 0.8898034],
                  [0.8515740, 0.0156904, 0.0499351, 0.7349712, 0.2404172, 0.7818279, 0.5274172, 0.9751455],
                  [0.7796323, 0.5805109, 0.1535902, 0.3263849, 0.8260924, 0.9831081, 0.6636581, 0.6775780],
                  [0.7482647, 0.0097477, 0.3870996, 0.5104644, 0.7141818, 0.5103435, 0.3822695, 0.7503735],
                  [0.7888231, 0.6138709, 0.2011645, 0.1586794, 0.3213321, 0.0048572, 0.7955234, 0.5216106],
                  [0.8210063, 0.0180032, 0.0840774, 0.9824970, 0.9337024, 0.3370869, 0.5198158, 0.6891851],
                  [0.3578318, 0.8885517, 0.8613027, 0.3933656, 0.5717098, 0.2247048, 0.5598091, 0.8620784],
                  [0.4183247, 0.4374124, 0.8065929, 0.7103816, 0.6958085, 0.0949592, 0.4599577, 0.9929593],
                  [0.6408900, 0.3395845, 0.3528624, 0.1716526, 0.0883538, 0.3262664, 0.0932225, 0.4635729],
                  [0.1418046, 0.1701714, 0.1783542, 0.3102381, 0.1276665, 0.6936027, 0.9039561, 0.2601886],
                  [0.0809895, 0.2403741, 0.2267565, 0.2389726, 0.4625203, 0.3369198, 0.3183209, 0.1210538],
                  [0.3632816, 0.4223938, 0.4239134, 0.7768441, 0.2630236, 0.7809081, 0.5712789, 0.4809214],
                  [0.2779609, 0.5042654, 0.5251262, 0.5704873, 0.8290134, 0.7428498, 0.4539759, 0.5222430]])

    if beta0Seperate:
        y = 1 + np.dot(X, beta)
    else:
        X = np.append(np.ones((X.shape[0], 1)), X, 1)
        y = np.dot(X, beta)

    print('Starting Lasso:')
    print(cal.coordinateAscentLasso(y, X, 1, [], False, beta0Seperate))
    return 1

    y = sd.generateData(D=D, w=w, noiseLevel=0.3)[1]
    print(ca.coordinateAscent(y, D, [], True))

    clf = linear_model.Lars()
    print(clf.fit(D, y))
    print(clf.coef_)


if __name__ == '__main__':
    main()
